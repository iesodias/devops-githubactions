name: Jobs Paralelos

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  # Job 1: AnÃ¡lise de cÃ³digo
  code-analysis:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout cÃ³digo
      uses: actions/checkout@v4
    
    - name: AnÃ¡lise de sintaxe
      run: |
        echo "ðŸ” Analisando sintaxe do cÃ³digo..."
        sleep 3
        echo "âœ… AnÃ¡lise de sintaxe concluÃ­da"
    
    - name: Verificar padrÃµes de cÃ³digo
      run: |
        echo "ðŸ“ Verificando padrÃµes de cÃ³digo..."
        sleep 2
        echo "âœ… PadrÃµes verificados"
    
    - name: Upload relatÃ³rio anÃ¡lise
      run: |
        echo "ðŸ“¤ Fazendo upload do relatÃ³rio..."
        echo "RelatÃ³rio de anÃ¡lise gerado em $(date)" > analysis-report.txt
        echo "âœ… RelatÃ³rio salvo"

  # Job 2: Testes unitÃ¡rios (executa em paralelo com code-analysis)
  unit-tests:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout cÃ³digo
      uses: actions/checkout@v4
    
    - name: Configurar ambiente de testes
      run: |
        echo "âš™ï¸ Configurando ambiente de testes..."
        sleep 2
        echo "âœ… Ambiente configurado"
    
    - name: Executar testes unitÃ¡rios
      run: |
        echo "ðŸ§ª Executando testes unitÃ¡rios..."
        sleep 4
        echo "âœ… Todos os testes passaram (15/15)"
    
    - name: Gerar relatÃ³rio de cobertura
      run: |
        echo "ðŸ“Š Gerando relatÃ³rio de cobertura..."
        sleep 1
        echo "âœ… Cobertura: 85%"

  # Job 3: Build da aplicaÃ§Ã£o (executa em paralelo)
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout cÃ³digo
      uses: actions/checkout@v4
    
    - name: Configurar ambiente de build
      run: |
        echo "ðŸ”§ Configurando ambiente de build..."
        sleep 2
        echo "âœ… Ambiente configurado"
    
    - name: Compilar aplicaÃ§Ã£o
      run: |
        echo "ðŸ—ï¸ Compilando aplicaÃ§Ã£o..."
        sleep 5
        echo "âœ… Build concluÃ­do com sucesso"
    
    - name: Gerar artefatos
      run: |
        echo "ðŸ“¦ Gerando artefatos..."
        mkdir -p build
        echo "AplicaÃ§Ã£o compilada em $(date)" > build/app.jar
        echo "âœ… Artefatos gerados"
    
    - name: Upload artefatos
      uses: actions/upload-artifact@v4
      with:
        name: build-artifacts
        path: build/